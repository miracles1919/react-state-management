(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[244],{5357:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/hox",function(){return n(7867)}])},4517:function(e,t){"use strict";t.Z={level:1,id:"1-1",value:"\ud83e\udd2b",children:[{level:2,id:"2-1",value:"\ud83e\udd2b",children:[{level:3,id:"3-1",value:"\ud83e\udd2b",children:[]},{level:3,id:"3-2",value:"\ud83e\udd2b",children:[]}]},{level:2,id:"2-2",value:"\ud83e\udd2b",children:[{level:3,id:"3-3",value:"\ud83e\udd2b",children:[]},{level:3,id:"3-4",value:"\ud83e\udd2b",children:[]}]},{level:2,id:"2-3",value:"\ud83e\udd2b",children:[{level:3,id:"3-5",value:"\ud83e\udd2b",children:[]},{level:3,id:"3-6",value:"\ud83e\udd2b",children:[]}]}]}},7867:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(2454),o=n(7498);function c(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var i=n(2374),a=n(5362);class u{constructor(e){this.hook=e,this.subscribers=new Set}notify(){for(const e of this.subscribers)e(this.data)}}var l=n(7285);const s=new u((()=>{}));new Set;var d=n(2912);var f=n(4517),v=n(145),h=(0,a.Z)(function(e,t){var n;const r=null===(n=null===t||void 0===t?void 0:t.memo)||void 0===n||n,o=(0,i.createContext)(s),c=(0,i.createContext)({}),a=e=>i.createElement(c.Provider,{value:{}},e.children),d=(0,i.memo)((e=>((0,i.useContext)(c),i.createElement(i.Fragment,null,e.children))),(()=>!0)),f=(0,i.memo)((t=>{const[n]=(0,i.useState)((()=>new u(e)));return n.data=e(),(0,i.useEffect)((()=>{n.notify()})),i.createElement(o.Provider,{value:n},t.children)})),v=e=>i.createElement(a,null,i.createElement(f,null,i.createElement(d,null,e.children)));return[function(e){const t=(0,i.useContext)(o);return t===s&&console.error("Failed to retrieve the store data from context. Seems like you didn't render a outer StoreProvider."),function(e,t){var n;const r=(0,i.useRef)(t);r.current=t;const o=(0,i.useRef)((null===(n=r.current)||void 0===n?void 0:n.call(r,e.data))||[]);return(0,l.useSyncExternalStore)((t=>{function n(){if(r.current){const n=o.current,c=r.current(e.data);(function(e,t){if(e.length!==t.length)return!0;for(const n in t)if(e[n]!==t[n])return!0;return!1})(n,c)&&t(),o.current=c}else t()}return e.subscribers.add(n),()=>{e.subscribers.delete(n)}}),(()=>e.data))}(t,e)},r?(0,i.memo)(v):v]}((function(){var e=(0,a.Z)(function(e){var t=(0,i.useState)((function(){return(0,d.vV)("function"==typeof e?e():e,!0)})),n=t[1];return[t[0],(0,i.useCallback)((function(e){n("function"==typeof e?(0,d.ZP)(e):(0,d.vV)(e))}),[])]}(f.Z),2),t=e[0],n=e[1];return{data:t,setNodeValue:function(e,t){n((function(n){(0,v.Mk)(n,e).value=t}))}}})),2),m=h[0],p=h[1],b=n(3901),y=n(833),x=(0,i.memo)((function(e){var t=e.id,n=m((function(e){return[(0,v.Mk)(e.data,t)]})),a=n.data,u=n.setNodeValue,l=(0,v.Mk)(a,t),s=(0,i.useRef)(null);(0,i.useEffect)((function(){s.current.classList.add("rendered"),setTimeout((function(){s.current.classList.remove("rendered")}),500)}));var d=(0,i.useCallback)((function(){u(t,Math.floor(1e4*Math.random()))}),[t]);return(0,r.jsxs)("div",{className:"node-wrap",children:[(0,r.jsxs)("div",{className:"node",ref:s,children:[(0,r.jsx)("div",{children:t}),(0,r.jsx)("div",{className:"value",children:l.value}),(0,r.jsx)("div",{className:"action",onClick:d,children:"change"})]}),!!l.children.length&&(0,r.jsx)("div",{className:"children-wrap",children:l.children.map((function(t,n){var i=(0,y.w)(t,n);return(0,r.jsx)("div",{className:"child-wrap",style:i,ref:function(e){if(e){var t=s.current.getBoundingClientRect(),n=e.getBoundingClientRect();(0,b.W)("hox-demo",t.x+60,t.y+120,n.x+60,n.y)}},children:(0,r.jsx)(x,c((0,o.Z)({},e),{id:t.id}))},t.id)}))})]})}));function w(){return(0,r.jsx)(p,{children:(0,r.jsxs)("div",{className:"section-redux-demo",children:[(0,r.jsx)("h2",{children:"Hox demo"}),(0,r.jsx)(x,{id:"1-1"})]})})}},3901:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r={};function o(e,t,n,o,c){n=scrollY+n,c=scrollY+c;var i=t-o,a=n-c,u=Math.sqrt(i*i+a*a),l=(t+o)/2-u/2,s=(n+c)/2,d=Math.PI-Math.atan2(-a,i);setTimeout((function(){var i="".concat(e,"-").concat(t,"-").concat(n,"-").concat(o,"-").concat(c);r[i]&&r[i].parentNode.removeChild(r[i]);var a=function(e,t,n,r){var o=document.createElement("div");o.className="line";var c="border: 1px solid #f76732; width: "+n+"px; height: 0px; -moz-transform: rotate("+r+"rad); -webkit-transform: rotate("+r+"rad); -o-transform: rotate("+r+"rad); -ms-transform: rotate("+r+"rad); position: absolute; top: "+t+"px; left: "+e+"px; ";return o.setAttribute("style",c),o}(l,s,u,d);r[i]=a,document.body.appendChild(a)}),100)}},145:function(e,t,n){"use strict";n.d(t,{Ix:function(){return a},Mk:function(){return i}});var r=n(8359),o=n.n(r),c=n(2912);function i(e,t){var n;return function e(r){r.id!==t?r.children.forEach((function(t){e(t)})):n=r}(e),n}function a(e,t,n){return(0,c.ZP)(e,(function(e){!function(e,t,n){var r=!1,c="";!function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!r)if(n.id===t)r=!0,c=o;else for(var i=0;i<n.children.length;i++)e(n.children[i],o?"".concat(o,".children[").concat(i,"]"):"children[".concat(i,"]"))}(e),""===c?e.value=n:o()(e,c).value=n}(e,t,n)}))}},833:function(e,t,n){"use strict";function r(e,t){var n={};if(2===e.level)switch(t){case 0:n.left="-400px",n.transform="translateX(-100%)";break;case 1:n.left=0,n.transform="translateX(0)";break;case 2:n.left="400px",n.transform="translateX(100%)"}else if(3===e.level)switch(e.id){case"3-1":n.left="-50px",n.transform="translateX(-100%)";break;case"3-2":case"3-4":case"3-6":n.left="150px",n.transform="translateX(0)";break;case"3-3":case"3-5":n.left="-150px",n.transform="translateX(0)"}return n}n.d(t,{w:function(){return r}})},792:function(e,t,n){"use strict";var r=n(2374);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},c=r.useState,i=r.useEffect,a=r.useLayoutEffect,u=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(r){return!0}}var s="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=c({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return a((function(){o.value=n,o.getSnapshot=t,l(o)&&s({inst:o})}),[e,n,t]),i((function(){return l(o)&&s({inst:o}),e((function(){l(o)&&s({inst:o})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:s},7285:function(e,t,n){"use strict";e.exports=n(792)},5362:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Z:function(){return o}})}},function(e){e.O(0,[45,774,888,179],(function(){return t=5357,e(e.s=t);var t}));var t=e.O();_N_E=t}]);