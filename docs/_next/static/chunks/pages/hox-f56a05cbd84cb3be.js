(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[244],{5357:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/hox",function(){return n(5644)}])},4517:function(e,t){"use strict";t.Z={level:1,id:"1-1",value:"\ud83e\udd2b",children:[{level:2,id:"2-1",value:"\ud83e\udd2b",children:[{level:3,id:"3-1",value:"\ud83e\udd2b",children:[]},{level:3,id:"3-2",value:"\ud83e\udd2b",children:[]}]},{level:2,id:"2-2",value:"\ud83e\udd2b",children:[{level:3,id:"3-3",value:"\ud83e\udd2b",children:[]},{level:3,id:"3-4",value:"\ud83e\udd2b",children:[]}]},{level:2,id:"2-3",value:"\ud83e\udd2b",children:[{level:3,id:"3-5",value:"\ud83e\udd2b",children:[]},{level:3,id:"3-6",value:"\ud83e\udd2b",children:[]}]}]}},5644:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(2454),o=n(7498),a=n(2374),c=n(5362);class i{constructor(e){this.hook=e,this.subscribers=new Set}notify(){for(const e of this.subscribers)e(this.data)}}var u=n(7285);const l=new i((()=>{}));new Set;var s=n(2912);var d=n(4517),f=n(145),v=(0,c.Z)(function(e,t){var n;const r=null===(n=null===t||void 0===t?void 0:t.memo)||void 0===n||n,o=(0,a.createContext)(l),c=(0,a.createContext)({}),s=e=>a.createElement(c.Provider,{value:{}},e.children),d=(0,a.memo)((e=>((0,a.useContext)(c),a.createElement(a.Fragment,null,e.children))),(()=>!0)),f=(0,a.memo)((t=>{const[n]=(0,a.useState)((()=>new i(e)));return n.data=e(),(0,a.useEffect)((()=>{n.notify()})),a.createElement(o.Provider,{value:n},t.children)})),v=e=>a.createElement(s,null,a.createElement(f,null,a.createElement(d,null,e.children)));return[function(e){const t=(0,a.useContext)(o);return t===l&&console.error("Failed to retrieve the store data from context. Seems like you didn't render a outer StoreProvider."),function(e,t){var n;const r=(0,a.useRef)(t);r.current=t;const o=(0,a.useRef)((null===(n=r.current)||void 0===n?void 0:n.call(r,e.data))||[]);return(0,u.useSyncExternalStore)((t=>{function n(){if(r.current){const n=o.current,a=r.current(e.data);(function(e,t){if(e.length!==t.length)return!0;for(const n in t)if(e[n]!==t[n])return!0;return!1})(n,a)&&t(),o.current=a}else t()}return e.subscribers.add(n),()=>{e.subscribers.delete(n)}}),(()=>e.data))}(t,e)},r?(0,a.memo)(v):v]}((function(){var e=(0,c.Z)(function(e){var t=(0,a.useState)((function(){return(0,s.vV)("function"==typeof e?e():e,!0)})),n=t[1];return[t[0],(0,a.useCallback)((function(e){n("function"==typeof e?(0,s.ZP)(e):(0,s.vV)(e))}),[])]}(d.Z),2),t=e[0],n=e[1];return console.log("state",t),{data:t,setNodeValue:function(e,t){n((function(n){var r=(0,f.Mk)(n,e);r.value=t,console.log("node",r.value)}))}}})),2),h=v[0],m=v[1],p=n(3901),x=n(833),y=function(e){var t=h(),n=t.data,c=t.setNodeValue,i=(0,a.useRef)(null),u=e.id,l=(0,f.Mk)(n,u);(0,a.useEffect)((function(){i.current.classList.add("rendered"),setTimeout((function(){i.current.classList.remove("rendered")}),500)}));var s=(0,a.useCallback)((function(){c(u,Math.floor(1e4*Math.random()))}),[u]);return(0,r.jsxs)("div",{className:"node-wrap",children:[(0,r.jsxs)("div",{className:"node",ref:i,children:[(0,r.jsx)("div",{children:u}),(0,r.jsx)("div",{className:"value",children:l.value}),(0,r.jsx)("div",{className:"action",onClick:s,children:"change"})]}),!!l.children.length&&(0,r.jsx)("div",{className:"children-wrap",children:l.children.map((function(e,t){var n=(0,x.w)(e,t);return(0,r.jsxs)("div",{className:"child-wrap",style:n,ref:function(e){if(e){var t=i.current.getBoundingClientRect(),n=e.getBoundingClientRect();(0,p.W)("hox-demo",t.x+60,t.y+120,n.x+60,n.y)}},children:[" ",(0,r.jsx)(y,(0,o.Z)({id:e.id},e))]},e.id)}))})]})};function b(){return(0,r.jsx)(m,{children:(0,r.jsxs)("div",{className:"section-redux-demo",children:[(0,r.jsx)("h2",{children:"Hox demo"}),(0,r.jsx)(y,{id:"1-1"})]})})}},3901:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r={};function o(e,t,n,o,a){n=scrollY+n,a=scrollY+a;var c=t-o,i=n-a,u=Math.sqrt(c*c+i*i),l=(t+o)/2-u/2,s=(n+a)/2,d=Math.PI-Math.atan2(-i,c);setTimeout((function(){var c="".concat(e,"-").concat(t,"-").concat(n,"-").concat(o,"-").concat(a);r[c]&&r[c].parentNode.removeChild(r[c]);var i=function(e,t,n,r){var o=document.createElement("div");o.className="line";var a="border: 1px solid #f76732; width: "+n+"px; height: 0px; -moz-transform: rotate("+r+"rad); -webkit-transform: rotate("+r+"rad); -o-transform: rotate("+r+"rad); -ms-transform: rotate("+r+"rad); position: absolute; top: "+t+"px; left: "+e+"px; ";return o.setAttribute("style",a),o}(l,s,u,d);r[c]=i,document.body.appendChild(i)}),100)}},145:function(e,t,n){"use strict";n.d(t,{Ix:function(){return i},Mk:function(){return c}});var r=n(8359),o=n.n(r),a=n(2912);function c(e,t){var n;return function e(r){r.id!==t?r.children.forEach((function(t){e(t)})):n=r}(e),n}function i(e,t,n){return(0,a.ZP)(e,(function(e){!function(e,t,n){var r=!1,a="";!function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!r)if(n.id===t)r=!0,a=o;else for(var c=0;c<n.children.length;c++)e(n.children[c],o?"".concat(o,".children[").concat(c,"]"):"children[".concat(c,"]"))}(e),""===a?e.value=n:o()(e,a).value=n}(e,t,n)}))}},833:function(e,t,n){"use strict";function r(e,t){var n={};if(2===e.level)switch(t){case 0:n.left="-400px",n.transform="translateX(-100%)";break;case 1:n.left=0,n.transform="translateX(0)";break;case 2:n.left="400px",n.transform="translateX(100%)"}else if(3===e.level)switch(e.id){case"3-1":n.left="-50px",n.transform="translateX(-100%)";break;case"3-2":case"3-4":case"3-6":n.left="150px",n.transform="translateX(0)";break;case"3-3":case"3-5":n.left="-150px",n.transform="translateX(0)"}return n}n.d(t,{w:function(){return r}})},792:function(e,t,n){"use strict";var r=n(2374);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,c=r.useEffect,i=r.useLayoutEffect,u=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(r){return!0}}var s="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return i((function(){o.value=n,o.getSnapshot=t,l(o)&&s({inst:o})}),[e,n,t]),c((function(){return l(o)&&s({inst:o}),e((function(){l(o)&&s({inst:o})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:s},7285:function(e,t,n){"use strict";e.exports=n(792)},5362:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Z:function(){return o}})}},function(e){e.O(0,[45,774,888,179],(function(){return t=5357,e(e.s=t);var t}));var t=e.O();_N_E=t}]);